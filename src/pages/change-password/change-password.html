<!--
  Generated template for the EditProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title text-center>Change Password</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding text-center>
  <form autocomplete="off" [formGroup]="editProfileForm" (ngSubmit)="onSubmit(editProfileForm.value)">
    <ion-row>
      <ion-col>
        <ion-list>
            <ion-item [ngClass]="{'error-border':!editProfileForm.controls.current_password.valid && editProfileForm.controls.current_password.touched}">
                <ion-label floating>
                  <ion-icon name="lock" item-start class="text-pink"></ion-icon>
                  Password
                </ion-label>
                <ion-input formControlName="current_password" type="password" required show-password></ion-input>
              </ion-item>
              <ion-item color="danger" class="form-error" *ngIf="editProfileForm.controls.password.hasError('required') && editProfileForm.controls.password.touched">
                <p>Password harus diisi</p>
              </ion-item>
          <ion-item [ngClass]="{'error-border':!editProfileForm.controls.password.valid && editProfileForm.controls.password.touched}">
            <ion-label floating>
              <ion-icon name="lock" item-start class="text-pink"></ion-icon>
              Password
            </ion-label>
            <ion-input formControlName="password" type="password" required show-password></ion-input>
          </ion-item>
          <ion-item color="danger" class="form-error" *ngIf="editProfileForm.controls.password.hasError('required') && editProfileForm.controls.password.touched">
            <p>Password harus diisi</p>
          </ion-item>

          <ion-item [ngClass]="{'error-border':!editProfileForm.controls.confirm_password.valid && editProfileForm.controls.confirm_password.touched}">
            <ion-label floating>
              <ion-icon name="lock" item-start class="text-pink"></ion-icon>
              Confirm Password
            </ion-label>
            <ion-input formControlName="confirm_password" type="password" required show-password></ion-input>
          </ion-item>
          <ion-item color="danger" class="form-error" *ngIf="editProfileForm.controls.confirm_password.hasError('required') && editProfileForm.controls.confirm_password.touched">
            <p>Konfirmasi Password harus diisi</p>
          </ion-item>
          <ion-item color="danger" *ngIf="editProfileForm.controls.confirm_password.touched && editProfileForm.hasError('mismatchedPasswords') && editProfileForm.controls.password.valid">
            <ion-label no-margin stacked>Passwords do not match</ion-label>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <button ion-button color="primary" round full type="submit" [disabled]="!editProfileForm.valid" >Change</button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>
